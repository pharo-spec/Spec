Class {
	#name : 'SpSpinnerMorph',
	#superclass : 'Morph',
	#instVars : [
		'transformationMorph'
	],
	#classVars : [
		'SpinnerForm'
	],
	#category : 'Spec2-Adapters-Morphic-Support',
	#package : 'Spec2-Adapters-Morphic',
	#tag : 'Support'
}

{ #category : 'examples' }
SpSpinnerMorph class >> example [

	self new openInWindow 
]

{ #category : 'accessing' }
SpSpinnerMorph class >> spinnerForm [

	SpinnerForm ifNotNil: [ ^ SpinnerForm ].
	^ SpinnerForm := Form
		extent: 40 @ 40
		depth: 32
		fromArray: self spinnerFormContents
		offset: 0 @ 0
]

{ #category : 'private' }
SpSpinnerMorph class >> spinnerFormContents [
		
	^ #(0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1280145589 2202892982 1565292724 71270335 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2773515703 4082664381 4268595409 4082927812 3461381560 90597068 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 911243955 4082401467 4287215086 4287346672 4287346672 4082993860 1615690420 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1582201525 4066479816 4287346672 4287346672 4287346672 4285504213 2370796726 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 743143859 4099047096 4287083756 4287346672 4287280879 4065953472 1431206836 0 0 0 0 0 0 0 156529065 90597068 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 693140660 1766685110 1078950835 0 0 0 0 0 0 0 2303753914 4082270393 4100231370 4065690044 3042016696 16777471 0 0 0 0 0 693140660 3461447096 4182670262 4182735798 2974973368 357071286 0 0 0 0 0 0 0 0 0 0 0 0 1229748917 4098981560 4133786059 4065690044 2370928312 0 0 0 0 0 0 0 810515124 1699641781 1045330868 0 0 0 0 0 0 290158772 3964763319 4252213209 4287280879 4287215086 4184380366 3427892663 16777471 0 0 0 0 0 0 0 0 0 0 0 3545398968 4286228191 4287346672 4287083500 4166024119 156529065 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1833793972 4133720266 4287346672 4287346672 4287346672 4287280880 4065690044 944601782 0 0 0 0 0 0 0 0 0 0 0 3629219513 4286359777 4287346672 4287149294 4166024119 189100985 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2454748341 4285504470 4287346672 4287346672 4287346672 4287346672 4049636551 1498250164 0 0 0 0 0 0 0 0 0 0 0 1464826805 4099047098 4251621328 4065953215 2639363769 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1565292724 4082993603 4287346672 4287346672 4287346672 4287215086 4099047354 709786038 0 0 0 0 0 0 0 0 0 0 0 0 944601782 2119072694 1397521077 16777471 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 71270335 3595664823 4133786059 4286622949 4286425570 4099639234 2790358456 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 206929855 2471722681 3729882808 3595730617 1951366582 41910143 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 390953393 2807070135 3947986359 4115626678 3276963256 944601782 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 324040878 3847257271 4150826190 4286820328 4287083500 4268924632 4098981047 1061976502 0 0 0 1162968501 3947986104 3998252215 1330674356 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2404547767 4133720266 4287346672 4287346672 4287346672 4287346672 4269188060 3662708151 0 0 0 3880811703 4286228449 4286491364 4048583607 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3528621753 4286360034 4287346672 4287346672 4287346672 4287346672 4287346671 4182735542 223245744 0 0 3880811703 4286228449 4286491364 4048583607 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3528621753 4286360034 4287346672 4287346672 4287346672 4287346672 4287346671 4182735542 223245744 0 0 1162968501 3947986103 3998252215 1347385781 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2370796726 4133785802 4287346672 4287346672 4287346672 4287346672 4269187803 3662708151 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 324040878 3847257271 4150826190 4286820328 4287083243 4268990424 4098981047 1061976502 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 390953393 2790358454 3947986359 4115626678 3260120760 944601782 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 156529065 1666021812 2773581495 2589031863 1347189173 41910143 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 357071286 3696196791 4099770563 4285767641 4285636054 4082533052 3058793655 55924138 0 0 0 0 0 0 0 0 0 0 0 0 0 357071286 307527608 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2891021495 4167471820 4287346672 4287346672 4287346672 4287280878 4082795968 1917746613 0 0 0 0 0 0 0 0 0 0 0 0 1028618675 4132404150 4098915254 843872946 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 16777471 4132404151 4287083500 4287346672 4287346672 4287346672 4287346672 4286293984 3428023993 0 0 0 0 0 0 0 0 0 0 0 0 1984788917 4200697288 4166945476 1783397044 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 206929855 4199513013 4287346672 4287346672 4287346672 4287346672 4287346672 4286754534 3847323064 0 0 0 0 0 0 0 0 0 0 0 0 324040878 3125968569 3042148024 257259451 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 3897589175 4286556900 4287346672 4287346672 4287346672 4287346672 4268924631 3042148024 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1800305589 4099244477 4286820328 4287346672 4287346672 4286425570 4132469943 961312946 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2119203766 4115692471 4015621568 4032266942 4048518069 1380809140 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 41910143 2689564088 1901165753 0 0 0 0 0 0 0 0 0 223245744 1028618675 860911796 106266538 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 273645487 4216224436 3562044856 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 609056952 340557746 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0)
]

{ #category : 'stepping and presenter' }
SpSpinnerMorph >> extent [

	^ transformationMorph extent
]

{ #category : 'stepping and presenter' }
SpSpinnerMorph >> height: aHeight [

	super height: aHeight.
	transformationMorph height: aHeight
]

{ #category : 'initialization' }
SpSpinnerMorph >> initialize [

	| wheelImageMorph |
	super initialize.
	self color: Color transparent.
	wheelImageMorph := self newSpinnerMorph.

	transformationMorph := TransformationMorph new asFlexOf: wheelImageMorph.
	transformationMorph
		vResizing: #rigid;
		hResizing: #rigid.

	self addMorph: transformationMorph
]

{ #category : 'initialization' }
SpSpinnerMorph >> newSpinnerMorph [

	^ self spinnerForm asMorph
]

{ #category : 'stepping and presenter' }
SpSpinnerMorph >> spinnerForm [

	^ self class spinnerForm
]

{ #category : 'stepping and presenter' }
SpSpinnerMorph >> step [

	| oldAngle transform |
	oldAngle := transformationMorph rotationDegrees.
	transform := transformationMorph transform withAngle: (oldAngle + 15) degreesToRadians negated.
	transformationMorph
		transform: transform;
		invalidRect: transformationMorph fullBounds
]

{ #category : 'stepping and presenter' }
SpSpinnerMorph >> stepTime [

	^ 50
]

{ #category : 'stepping and presenter' }
SpSpinnerMorph >> wantsSteps [

	^ true
]

{ #category : 'stepping and presenter' }
SpSpinnerMorph >> width: aWidth [

	super width: aWidth.
	transformationMorph width: aWidth
]
